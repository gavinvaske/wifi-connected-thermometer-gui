<html>
    <head>
        <meta charset="UTF-8">
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script language="javascript" type="text/javascript" src="script.js"></script>
    </head>
    <body>
        <div id="chart">
            <script>
                $.getJSON('all/temperatures', function(data) {
                    document.getElementById('dataPoints').innerHTML = JSON.stringify(data['temperatures'], null, 2);
                    let temperatureRecords = data['temperatures']
                    let temperatureDataPoints = []
                    let timeDataPoints = []
                    temperatureRecords.forEach( (temperatureRecord, index) => {
                        timeDataPoints.push(index)
                        temperatureDataPoints.push(temperatureRecord.temperature)
                    });
                    Plotly.plot('chart', [{
                    x: timeDataPoints,
                    y:temperatureDataPoints,
                    type:'line'
                }])
                });
            </script>
        </div>
        <div>
            <h3 style="font-family:Helvetica;"> The data Stored in the database:</h3>
            <h4 style="color: gray; font-family:Helvetica;" id='dataPoints'> </h4>
        </div>
    </body>
</html>

